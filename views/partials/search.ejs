<div class="row mt-3">
    <div class="col-md-9">
        <form action="/search/name" method="post" id="nameSearch"> 
            <div class="input-group mb-3">
              <input type="text" class="form-control" placeholder="Introduce el nombre del restaurante" name="restaurantName">
              <button class="btn btn-primary" type="submit">Buscar</button>
            </div>    
        </form>    
        <form action="/search/food" method="post" id="foodTypeSearch" hidden> 
        <div class="input-group mb-3">
            <select name="restaurantFood" class="form-select" >
                <% primaryMenuFoodTypes.forEach(foodType => {
                    if(foodType.restaurants.length > 0){
                %>
                        <option value="<%=foodType.id%>"><%=foodType.name%></option>
                <%}}); %>
            </select>
            <button class="btn btn-primary" type="submit">Buscar</button>
        </div>
        </form>
        <form action="/search/location" method="post" id="locationSearch" hidden> 
        <div class="input-group mb-3">
            <input type="text" class="form-control" placeholder="Introduce una dirección o ciudad" name="restaurantLocation">
            <button class="btn btn-primary" type="submit">Buscar</button>
        </div>
        </form>
        <form action="/search/rating" method="post" id="ratingSearch" hidden> 
            <div class="input-group mb-3">
                <select name="ratingValues" class="form-select">
                    <option value="higherRating">Mayor a menor valoración</option>
                    <option value="lowerRating">Menor a mayor valoración</option>
                </select>
                <button class="btn btn-primary" type="submit">Buscar</button>
            </div>
            </form>
    </div>

    <div class="col-md-3">
        <select id="parameter" class="form-select">
            <option value="name">Filtrar por nombre</option>
            <option value="foodType">Filtrar por tipo de comida</option>
            <option value="location">Filtrar por localización</option>
            <option value="rating">Filtrar por valoración</option>

        </select>
    </div>
</div>

<script>
    let parameter = document.getElementById('parameter');
    let nameSearch = document.getElementById('nameSearch');
    let foodTypeSearch = document.getElementById('foodTypeSearch');
    let locationSearch = document.getElementById('locationSearch');
    let ratingSearch = document.getElementById('ratingSearch');
    parameter.addEventListener('change', () => {
        switch (parameter.value) {
            case 'name':
                nameSearch.hidden = false;
                foodTypeSearch.hidden = true;
                locationSearch.hidden = true;
                ratingSearch.hidden = true;
                break;

            case 'foodType':
                nameSearch.hidden = true;
                foodTypeSearch.hidden = false;
                locationSearch.hidden = true;
                ratingSearch.hidden = true;
                break;
            
            case 'location':
                nameSearch.hidden = true;
                foodTypeSearch.hidden = true;
                locationSearch.hidden = false;
                ratingSearch.hidden = true;
                break;
            
            case 'rating':
                nameSearch.hidden = true;
                foodTypeSearch.hidden = true;
                locationSearch.hidden = true;
                ratingSearch.hidden = false;
                break;
        }
    })
</script>